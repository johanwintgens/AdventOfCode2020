using AdventOfCode2020.Day_3;
using NUnit.Framework;

namespace AdventOfCode2020
{
    [TestFixture]
    public class UnitTestsDay3
    {
        string[] lines = {".........#....#.###.........##.", "..###.#......#......#.......##.", "##....#.#.......#.....#........", "#........#..........#.#...#...#", "#....###...##.....#........#...", "###..............##..#.....#...", ".................##.#..........", ".........##......#..###.....#.#", "..#..#...#.#.#...#.#.#.##...#..", "..............#.#.#..#..#..#...", ".#.#.#....#.........#.........#", "..#.#....##..#...#.....#..##..#", "............#.....#.........##.", "...#.#..#..........#.##.....#..", "#......#...##.......###........", ".....#....#.#..............#...", ".....#.......#..##.###.....#.#.", ".#.....#....##.#......##......#", "..##...##.........#..#.#..#....", "............#.......#.....#....", ".......................#...####", ".#.#.......#..#....#....##..#.#", "..#.##.#.#...............#.....", "#..##..#...#.....##..#...##.#..", "##...#....#####.....##...#...##", ".#..##..#..#.#..##.#.#........#", "....#..#........##......#.#....", "..#......#...##.#..##.......#..", ".#.#....#.#..#.....#..#...#....", ".....#.#.................#.....", "##.#........#.....#...........#", "#............#.....#..#.#...##.", "..#.#..#......#.......#......##", "....#.#....#...#....#..........", ".........#...#.##..#...#...#...", "....#...#...#..................", "..##...#.#....#...#......#.....", "#....#.......##..#...#..#......", ".#....##..#.#....#...##...#....", "#.................#...#.#...#..", ".#.....#..........#.......#....", ".#..........#.##....#.##......#", "#.#.....##.##..#.......#..#....", ".....#...#............#..##....", "...#.#.##.#..........#.#....#..", ".......#...#............#.....#", "..........#...##..#....###....#", "............#....#......###....", "...................####..#.##..", "...#.#.##.........#..#.#.......", "...........#.........#..###....", ".........#.........#...#...###.", ".#.#.##....#.#...........#.#...", "..###.....#...#.#.......##..#..", ".....#.#........#.#....#....##.", "......#...#........#.........#.", "...............#.........#.#...", "..#...#...#...#.###..###....#..", "#..#.......#..###.##.......#...", "#.#.........##..#.....###..#..#", "...#....#....#.#..#............", "..###..##....................#.", "..#.......#..........#.##......", "..##........#...###..##.#......", "......#.#...#.....#..##..#.....", "#........#......#..............", "........#........#.......#....#", ".....#.......#......#........##", "#.#......#.#...##.#.......#....", "#...................##...#.....", "..#.#...#..#...#..#.....#..#...", ".......##..................##..", ".............#..##.#......##..#", "###...........##.#....###..#...", ".#..........##...#..#......#...", "..#.###.#....#........#........", "....#....###.....#.......#.....", ".....##....#..##...#..#........", ".##...#..#....#..#.........#...", "#.........##....#..##..##......", ".#.#.............#.....##......", "..#.#............#.......##.#..", "..#.##..#.........#......#.#.#.", ".#...#...#..#....#...#....#.#.#", "....#...#..#.##..##.......##...", ".#.....#.....#............#....", "..........#....#..#..#......#..", ".............#....#..#.........", "....#.#.#.......#....#.#.......", "..##....#.#....#...#........###", "#...#..........#..........###..", "...#..#...#...#..##......#...#.", ".....................#...#..#.#", "#..#............#.........#.##.", "..#...#...........#.......#....", ".....##..........#...##.....##.", ".#.....#.#........##...........", "..#....#..#.#..##...#.........#", ".........#.###.##....#..###....", ".........#...##...##.#.#....##.", "...#..##.#...........#....#....", "..........#.#...........##.....", "...........#..........#...##...", ".........#..........#...#.#...#", "......#..#.................#...", ".....#...........#..#...#..###.", ".....#..#....#.#.##...##....##.", "...##.###.#.#..#.#....##.#.#...", "###.....#.....#........#...#...", ".#....#........#.#....#..#...##", "##.....#.....#......#.#..#...##", ".##....#...............#.......", "#.#.....#.#....#.........#.....", "..#...............#.......##...", "#...#.###..#....#.#.#..#.#.....", "##.###....##...#....#.....#....", ".......#................##.....", "....#....##..#....#..#......#..", "...#.........#...#........##.##", ".#..............#..............", "..##.......#.###..##.#.........", "..#...#...#...#...#...#.....##.", ".....#..##...#.....##..#.#.....", "..#.............#...#.........#", "#.........................#..##", ".............#..###........#...", "......#..#....#.##.......#..#..", "...#..#..#...#....#..#...##...#", ".##............#.......###.#...", ".#........#..#.................", "#.#.#.....##....##...#.....#.#.", "...##.......#.#......#...#.#...", "#.##....#.........#.....##...#.", "#...#..#....#.......#.##...##..", ".................##.#..##.#.#.#", "..#.............#.......#.#.##.", "#....##..................#...##", "..........#.......#..##........", "......#.#..#......#.#.........#", "#.#........#####......#.#.#....", "#..#........#.#..#.....#.......", "...#.............#.............", ".....#.......#......#..#.##..#.", "..#.........#..........#.##...#", "#.....#.#####......#.......###.", ".......#.....#...#.....#.#..#..", "#...#.#........#.#..#..#...#..#", "...#....#....##.....#..........", ".#.......##.......##...........", "...#.##.#.#..#....#...##....##.", ".#...#...#.........#...........", ".#.#.##..#.......#.#...#..#....", ".#....##.#.#...#......#......#.", "##..#..#..#..#.......#......#..", ".........#.#...........#....#.#", "........#....#.#...#.#..#......", "#.......#.#.................##.", ".....#..#..#....#.#........#.##", ".#..###..#....#..#........#.#..", "#...........#...#........#.....", "........#..#.#.#.#.......#....#", "....#..#..........#.#..#.....#.", "..####..........#..............", "....###.#..#........##..#......", ".#..#......##..........#...#...", ".#.....#....#......##.##...#.##", "..##.#.#......#.......##.......", "....##.......#..............#..", "........#.....##..............#", ".#...#....##.....#....#.......#", "....#.......###.......#.#.#....", "##.....##........#.....##......", "..........#.....#...##.#..#.#..", "..........#.#......#..........#", "..........#...#..#...#...#.....", ".#.......#..##.................", ".#........##..............#..#.", ".##...................#...#....", ".##....#.##.##........#........", "...##.....####.....#..#.......#", "...##.#...##...#.##............", "##.......#.....###..#..#...##..", "#.####...#...#...##..#..#....#.", "...#........##........#........", "#....#.#....##..#..#.##...#....", "...##....##....#.......#..###..", "..........#..#..........#..#.#.", "#..#....#.......#.......#....#.", "......#......#.....##..##.#..#.", "##.#.....#....#.......#...#...#", "..##..#.#...#...#.....###..##..", "....#..#.......#............##.", "#..##.#.#.....#####....#....#..", ".#........#...#.#..##.#.####.#.", "#...#...#.............#.#......", ".........#.....##..........#...", ".##....#....#........#......#.#", "#..###...#....#..........#.....", ".#...##.........#..#..#.#...#..", "#.#.#.......................#..", "#.....#..#.#............###....", "#...#.....#.....###..#..#.#.##.", "............#.........#.#.##...", "...#.......###......##......#..", ".#....#.#....##......##.#...#..", ".........#.......#....#...##..#", "................#.#.....#....#.", ".##......#....#..#..###..#...#.", "....##....#..#....#.##..#......", ".......#.#.....#..#............", "..........#....#....#..#..#....", "..#....#.....#.......#.........", "......#.........#.##..#....##.#", "..#..#.#.......##..#...##......", "...##..#.#.#...............##..", "..#.#.#......#....#.....#.##...", "..#.....#.#...........#....##..", "###.....##.....................", ".......#..#.................#..", ".#.#..#..#.........#......#...#", "##.......#.##.......#..........", "#..#.....#.....#.....#.......#.", "#..#.....#.....#..........#.#..", ".#....##....#.....#.......#.##.", ".....#.#......##..##.#.........", "#....##......#..#....#..##..#..", "#.##..#..#..............#...#..", ".#......#......#..#...........#", "..#.......#........#....#..#...", ".....##.#.......##....#.#....#.", "........#....................#.", "........#..#..........#........", "......#.#.....#.#.....#......#.", "#......##......###.##......#...", "...........###..#...#.......#..", "..#...###...#.....#....#...#..#", ".....##......#.#......##..#.#..", "#.#......##...#.....##...#...#.", ".#.#........#.......#.........#", "....#....#...##..........#.#...", ".#..##.#...#.#.....##......##..", ".#.....#..##....#....#....#..#.", "..#.......#.#.#..........#..#..", "#.#..#....#.##....#.......#....", "........##.........#..#.#......", ".......#.....#.##..##......#.#.", ".........................#.#.#.", "..#..............##.........#..", ".......###.#.#.......#.........", "#........#.....#.......#..#...#", "##....#..#....#...........#....", "..#..#.#.#.....#.#..#....#.....", ".#..##....#.##..#..............", "...#....##..#..#.##....#.#.....", "...##....#......##..#........#.", "....#......#....#....#........#", "...#..#...#.#...........#..#..#", "....#.#.#.........#...#...#....", "..........#....#......##....#.#", "..##..#...##.#...###.#.##......", "#........#.##......##.#........", "..#...#.##...#..........#.#...#", "...........#...........#.......", "......###....#..###..##........", "...#........#..#.#.............", "....#.#.....#.#............#..#", "##.#.....#........#....##.....#", ".......#.#...#..##.......#.#.#.", "#......##..#..#...#.....#..#.#.", ".#......###.....#..#.....#...#.", "....#.#.............#.##.......", "......#....#.....#.......#..#..", "#..#.#.#..#......#...#..#.#....", "#..............#.#....#...#....", "..#......#...##.#......#..#..#.", ".......##..#.##..#.#...#.....##", ".....#...........#....#.......#", ".#.........#..#..........##....", "#..##..#.#......##.......#..#..", "...#....#...........##.#.#.#..#", "#..#..#..#...........#....#.#.#", ".....##......#......#.#...#....", ".....#..##....###.....#....##..", "........#...##......#.....#..#.", "..#.#..#.#....#...#.......#....", "#.....#...#.....#.#.......#....", "......#...#.......#..##....#...", "#............#.....#....#......", "..##...#.....#..#......#...#...", "...#..#...#..#.......#........#", "...##.#.#........#........#....", "#.#..#......##.#..#..#......#..", "#.......#..#...................", "#.....#....#......#...........#", ".##.#...#.#...#..............##", "...###........#........#..##.#.", "..##....#.#.#.##..#.#......#...", "..#.#........#..............#..", ".......#.................##....", "..................#............", "....#.....#.#..............#.##", "......#.....#..#......#...#....", "..#....##......#...####....#.#.", "..........#...##...........##.#", "...#.#..#....#......#..#....#..", "#.........###...#.....#..#....#", ".#.#......##.#.....#...........", "...............#.#....##..#..#.", "..........#.#.#.#...#....##...#", "...#....##.................##..", "#..##..#...##.##.#......#.#.###", "#..#...#..#.....#...#.#..##...#", "..#................#...##....#.", "...#.....#.##.......##....#.#..", "....#.....#..#....##...........", "...............#..........#....", "....#...#........##...#........", "...#....#...#.###..............", "#.#....#.......#..#.##.##......", ".#.....#..#..#......#....#.#...", "...#..........................#", "............#.#..#.##......#...", ".....#..........#.#........#.#."};

        [Test]
        public void MapPart2()
        {
            var xSteps = new[] {1, 3, 5, 7, 1};
            var ySteps = new[] {1, 1, 1, 1, 2};

            var map = Map.FromLines(lines);

            long product = 1;
            for (int i = 0; i < 5; i++)
            {
                var trees = map.CountTreesOnSlope(xSteps[i], ySteps[i]);
                product *= trees;
            }

            Assert.AreNotEqual(0, product);
        }

        [Test]
        public void MapPart1()
        {
            var map = Map.FromLines(lines);

            var treeCount = map.CountTreesOnSlope(3, 1);

            Assert.AreNotEqual(0, treeCount);
        }
    }
}